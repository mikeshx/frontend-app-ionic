<ion-header>
  <ion-toolbar>
    <ion-title>Crea una nuova attività</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="closeModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form name="form"
        (ngSubmit)="f.form.valid && onSubmit()"
        #f="ngForm"
        novalidate>
  <!-- Display activity details here -->
  <ion-list>
    <ion-item>
      <ion-input type="text"
                 label="Name"
                 labelPlacement="stacked"
                 placeholder="Nome dell'attività"
                 name ="name"
                 [(ngModel)]="form.name"
                 required
                 #name="ngModel"
                 [ngClass]="{ 'is-invalid': f.submitted && name.errors } ">
      </ion-input>
    </ion-item>

    <!-- Name errors -->
    <div class="invalid-feedback ion-text-center" *ngIf="name.errors && f.submitted">
      <ion-note *ngIf="name.errors['required']" slot="error" color="danger">Enter a username</ion-note>
    </div>

    <ion-item>
      <ion-textarea type="text" name = "description"
                 label="Description"
                 labelPlacement="stacked"
                 placeholder="Descrivi bene attività daei"
                 [(ngModel)]="form.description"
                 required
                 #description="ngModel"
                 [ngClass]="{ 'is-invalid': f.submitted && description.errors } ">
      </ion-textarea>
    </ion-item>

    <!-- Description errors -->
    <div class="invalid-feedback ion-text-center" *ngIf="description.errors && f.submitted">
      <ion-note *ngIf="description.errors['required']" slot="error" color="danger">Enter a username</ion-note>
    </div>

    <ion-item>
      <ion-select placeholder="Seleziona">
        <div slot="label">Tipo attività <ion-text color="danger">(*)</ion-text></div>
        <ion-select-option value="1">Arrampicata</ion-select-option>
        <ion-select-option value="2">Serata con alcol e droga (legale)</ion-select-option>
        <ion-select-option value="3">Birdwatching tra amici</ion-select-option>
        <ion-select-option value="4">Spariamo alle lepri selvatiche</ion-select-option>
        <ion-select-option value="5">Si fa i tacchini</ion-select-option>
      </ion-select>
    </ion-item><br>

    <ion-datetime-button datetime="datetime"></ion-datetime-button>
  </ion-list>

  <ion-modal [keepContentsMounted]="true">
    <ng-template>
      <ion-datetime id="datetime"></ion-datetime>
    </ng-template>
  </ion-modal>

  <ion-button type="submit" class="login-button" expand="block">Submit</ion-button>

    <!-- General Errors TODO: i messaggi di errore usano ancora bootstrap!!! -->
    <div class="form-group">
      <div *ngIf="f.submitted && createActivityFailed" class="alert alert-danger" role="alert">
        Login failed: {{ errorMessage }}
      </div>
    </div>
  </form>
</ion-content>


